<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Three random scripts. | Gustavo Führ </title> <meta name="author" content="Gustavo Führ"> <meta name="description" content="I made some cool little code snippets that I like it to share."> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.png?491bdee39dab28e6dfd8bfd8a4b8ac78"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://gustavofuhr.github.io/blog/2024/random-scripts/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Gustavo Führ </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repos </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Three random scripts.</h1> <p class="post-meta"> Created in August 01, 2024 </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/computer-vision"> <i class="fa-solid fa-hashtag fa-sm"></i> computer-vision</a>   <a href="/blog/tag/arxiv"> <i class="fa-solid fa-hashtag fa-sm"></i> arxiv</a>   <a href="/blog/tag/real-madrid"> <i class="fa-solid fa-hashtag fa-sm"></i> real-madrid</a>   ·   <a href="/blog/category/posts"> <i class="fa-solid fa-tag fa-sm"></i> posts</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/mobilesam_annotator_sample-480.webp 480w,/assets/img/mobilesam_annotator_sample-800.webp 800w,/assets/img/mobilesam_annotator_sample-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/mobilesam_annotator_sample.gif" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> MobileSAM single click annotation tool. </div> <p>In the last couple of months, I’ve been doing some random stuff and would like to share three random scripts. Hopefully, they will be useful for some people and indexed by search engines (if that’s a thing) or LLMs in the future. Here they are, in increasing order of randomness (from the perspective of a CV guy):</p> <h3 id="1-script-to-annotate-single-objects-in-a-bunch-of-images-mobilesam-annotator">1. Script to annotate single objects in a bunch of images, MobileSAM Annotator.</h3> <p>This script turned out into its own project, check the <a href="https://github.com/gustavofuhr/mobilesam_annotator" rel="external nofollow noopener" target="_blank">repo</a>.</p> <p>I’m trying to study some of the SAM (Segment Anything Model) papers in and noticed that in the <a href="https://openaccess.thecvf.com/content/ICCV2023/papers/Kirillov_Segment_Anything_ICCV_2023_paper.pdf" rel="external nofollow noopener" target="_blank">original paper</a> they use the model to automatically annotate images which train the model in a training looping scheme. The foundation model itself is very powerful and could have a bunch of applications in the next few years in the industry and has recently (July 2024) been upgraded (<a href="https://ai.meta.com/blog/segment-anything-2/" rel="external nofollow noopener" target="_blank">SAM2</a>). I still believe that specific models will be more efficient for most problems, yet SAM models can be an easy starting point.</p> <p>For one application that I’m developing, I tried the <a href="https://segment-anything.com/demo" rel="external nofollow noopener" target="_blank">demo online</a> and found that it worked greatly and want it to run locally. I search for a few papers that attempted to speed-up these segmentation foundation models and find <a href="https://arxiv.org/pdf/2306.14289" rel="external nofollow noopener" target="_blank">MobileSAM</a>. I tried the <a href="https://github.com/ChaoningZhang/MobileSAM" rel="external nofollow noopener" target="_blank">provided models</a> and was surprised by how fast they are (running at around 220ms per image in my M3 Mac). Using it, I developed a single-point annotation tool, the GIF in the beginning of this post. The results are exported as separated binary images and visualizations are also stored so that you can better inspect any errors in the segmented regions. It worked great for my application and I still have some cool ideas to improve it: support for more points, more classes (objects) and integration with detection/segmentation frameworks.</p> <h3 id="2-script-to-rename-arxiv-files">2. Script to rename arXiv files:</h3> <p>Here’s the <a href="https://gist.github.com/gustavofuhr/83a7d5cb9bd93fdc6b74852a2f29dc67" rel="external nofollow noopener" target="_blank">script</a>.</p> <p>I read a lot of papers (or try to anyways) and the majority of them are available on the arXiv archive. Usually I download them to an iCloud-synced so that I can download/read papers on any device. But it always bothers me that the files have non-informative names with numbers, like <code class="language-plaintext highlighter-rouge">2403.05440.pdf</code>. I made a simple script to rename the files using the arXiv API. The API is free, and it was news for me that it even existed. It was quite easy to work with it:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">fetch_paper_details_arxiv</span><span class="p">(</span><span class="n">arxiv_number</span><span class="p">):</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="s">http://export.arxiv.org/api/query?id_list=</span><span class="si">{</span><span class="n">arxiv_number</span><span class="si">}</span><span class="s">&amp;max_results=1</span><span class="sh">"</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">feedparser</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">d</span>
</code></pre></div></div> <p>tl;dr: it takes all the arXiv PDFs from a folder and rename them, such that</p> <p><code class="language-plaintext highlighter-rouge">2404.04125v3.pdf</code></p> <p>becomes</p> <p><code class="language-plaintext highlighter-rouge">2404.04125 - 2024 - No "Zero-Shot" Without Exponential Data, Pretraining Concept Frequency? Determines Multimodal Model Performance.pdf</code></p> <p>I know, it’s simple, but now you don’t have to do it :-).</p> <h3 id="3-script-to-get-notified-when-the-general-public-tickets-for-a-real-madrid-match-are-first-available">3. Script to get notified when the general public tickets for a Real Madrid match are first available.</h3> <p>This is a fun one (<a href="https://gist.github.com/gustavofuhr/4ce0edfc49d985f2094d4d4930a5761a" rel="external nofollow noopener" target="_blank">Gist link</a>).</p> <p>I’m a big fan of football: after all, I’m a Brazilian. During my last vacation, I fulfilled a long-awaited dream of watching live a Real Madrid match (if you’re curious it was against Alavés). If you don’t know, Real Madrid is the one the most famous teams in the world, so tickets are very hard to get. So, I made a script that checks periodically (every 5 min or so) if the tickets are available for sale; it will then send you an email. But how would I know if the script stopped running due to some problem? I also send a ping email every hour.</p> <p>For this script, I simply used Selenium to visit the webpage and check for a string that tell us tickets are available. I actually thought someone had already made this, but couldn’t find it. Anyways, the match was amazing, 5-0, two goals from Vini Jr.!</p> <div class="row mt-4"> <div class="col-sm mt-4 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/real_madrid-480.webp 480w,/assets/img/real_madrid-800.webp 800w,/assets/img/real_madrid-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/real_madrid.jpeg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Bernabéu is gorgeous. </div> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2017/pushing-the-boundaries-of-face-recognition-systems-by-meerkat-cv-medium/">Pushing the boundaries of Face Recognition systems | by Meerkat Cv | Medium</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2017/a-study-on-beer-logo-detection-and-analysis-on-social-media-by-meerkat-cv-medium/">A study on beer: logo detection and analysis on social media | by Meerkat Cv | Medium</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2017/pushing-the-boundaries-of-face-recognition-systems-by-meerkat-cv-medium/">Pushing the boundaries of Face Recognition systems | by Meerkat Cv | Medium</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/my-favorite-papers-from-cvpr-2022-by-gustavo-fhr-medium/">My favorite papers from CVPR 2022. | by Gustavo Führ | Medium</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/deploy-dfine-models/">Deploying state-of-the-art object detectors (DETRs) to AWS.</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Gustavo Führ. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: January 06, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?06cae41083477f121be8cd9797ad8e2f"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js" integrity="sha256-rjmgmaB99riUNcdlrDtcAiwtLIojSxNyUFdl+Qh+rB4=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZR2Y0F7K5S"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZR2Y0F7K5S");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script src="/assets/js/shortcut-key.js"></script> </body> </html>